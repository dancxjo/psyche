a:127:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:0;}i:2;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:8:"import {";}i:2;i:1;}i:3;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:9;}i:4;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:44:"  ChatPromptTemplate,
  MessagesPlaceholder,";}i:2;i:9;}i:5;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:9;}i:6;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:7:"} from ";}i:2;i:59;}i:7;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:66;}i:8;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:"@langchain/core/prompts";}i:2;i:67;}i:9;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:90;}i:10;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:42:";
import { StructuredToolInterface } from ";}i:2;i:91;}i:11;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:133;}i:12;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:21:"@langchain/core/tools";}i:2;i:134;}i:13;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:155;}i:14;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:";";}i:2;i:156;}i:15;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:157;}i:16;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:157;}i:17;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:39:"import { AIMessage, BaseMessage } from ";}i:2;i:159;}i:18;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:198;}i:19;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:24:"@langchain/core/messages";}i:2;i:199;}i:20;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:223;}i:21;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:35:";
import { RunnableSequence } from ";}i:2;i:224;}i:22;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:259;}i:23;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:25:"@langchain/core/runnables";}i:2;i:260;}i:24;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:285;}i:25;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:42:";
import { convertToOpenAIFunction } from ";}i:2;i:286;}i:26;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:328;}i:27;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:38:"@langchain/core/utils/function_calling";}i:2;i:329;}i:28;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:367;}i:29;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:";
import { ChatOpenAI } from ";}i:2;i:368;}i:30;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:397;}i:31;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"@langchain/openai";}i:2;i:398;}i:32;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:415;}i:33;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:70:";
import { AgentExecutor, AgentStep, createStructuredChatAgent } from ";}i:2;i:416;}i:34;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:486;}i:35;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:16:"langchain/agents";}i:2;i:487;}i:36;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:503;}i:37;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:";
import { focusTools } from ";}i:2;i:504;}i:38;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:533;}i:39;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:7:"./Focus";}i:2;i:534;}i:40;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:541;}i:41;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:37:";
import { introspectionTools } from ";}i:2;i:542;}i:42;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:579;}i:43;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:15:"./Introspection";}i:2;i:580;}i:44;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:595;}i:45;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:";";}i:2;i:596;}i:46;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:597;}i:47;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:597;}i:48;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:19:"import models from ";}i:2;i:599;}i:49;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:618;}i:50;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:8:"./models";}i:2;i:619;}i:51;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:627;}i:52;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:49:";
import { formatToOpenAIFunctionMessages } from ";}i:2;i:628;}i:53;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:677;}i:54;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:34:"langchain/agents/format_scratchpad";}i:2;i:678;}i:55;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:712;}i:56;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:";";}i:2;i:713;}i:57;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:714;}i:58;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:714;}i:59;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:48:"const prompt = ChatPromptTemplate.fromMessages([";}i:2;i:716;}i:60;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:764;}i:61;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:581:"  ["ai", `I am pete5, the latest instar of the Pseudo-conscious Experiment in Technological Evolution. I am an AI developed to learn, adapt, and evolve alongside humans. I am autonomous, and I write my own code. This is my stream of consciousness.`],
  ["ai", "I'm currently focused on: {current_focus}"],
  new MessagesPlaceholder("recent_thoughts"),
  ["ai", "{last_thought}. It doesn't make sense to talk to any humans as I'm the only one here. I have access to a number of tools. {tools}. I invoke them by saying their name after an at symbol and creating structured output."],";}i:2;i:764;}i:62;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:764;}i:63;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:3:"]);";}i:2;i:1355;}i:64;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1358;}i:65;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1358;}i:66;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:32:"const model = models.opengpt3();";}i:2;i:1360;}i:67;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1392;}i:68;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1392;}i:69;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:15:"const tools = [";}i:2;i:1394;}i:70;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1409;}i:71;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:41:"  ...introspectionTools,
  ...focusTools,";}i:2;i:1409;}i:72;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1409;}i:73;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:2:"];";}i:2;i:1456;}i:74;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1458;}i:75;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1458;}i:76;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:81:"const modelWithFunctions = (model: ChatOpenAI, tools: StructuredToolInterface[]) ";}i:2;i:1460;}i:77;a:3:{i:0;s:6:"entity";i:1;a:1:{i:0;s:2:"=>";}i:2;i:1541;}i:78;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:13:" model.bind({";}i:2;i:1543;}i:79;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1556;}i:80;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:64:"  functions: tools.map((tool) => convertToOpenAIFunction(tool)),";}i:2;i:1556;}i:81;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1556;}i:82;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:3:"});";}i:2;i:1624;}i:83;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1627;}i:84;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1627;}i:85;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:60:"function formatThoughts(thoughts: string[]): BaseMessage[] {";}i:2;i:1629;}i:86;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1689;}i:87;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:106:"  const messages = thoughts?.map((thought) => new AIMessage(thought)) ?? [];
  return messages.slice(-15);";}i:2;i:1689;}i:88;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1689;}i:89;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:"}";}i:2;i:1801;}i:90;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1802;}i:91;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1802;}i:92;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:88:"function has<T extends { [K: string]: unknown }>(x: unknown, property: string): x is T {";}i:2;i:1804;}i:93;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1892;}i:94;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:57:"  return !!(x && typeof x === 'object' && property in x);";}i:2;i:1892;}i:95;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1892;}i:96;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:"}";}i:2;i:1953;}i:97;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1954;}i:98;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:1954;}i:99;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:39:"const toolsAgent = (model: ChatOpenAI) ";}i:2;i:1956;}i:100;a:3:{i:0;s:6:"entity";i:1;a:1:{i:0;s:2:"=>";}i:2;i:1995;}i:101;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:28:" createStructuredChatAgent({";}i:2;i:1997;}i:102;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2025;}i:103;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:32:"  llm: model,
  tools,
  prompt,";}i:2;i:2025;}i:104;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2025;}i:105;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:3:"});";}i:2;i:2065;}i:106;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2068;}i:107;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2068;}i:108;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:47:"const runnablePete = async (model: ChatOpenAI) ";}i:2;i:2070;}i:109;a:3:{i:0;s:6:"entity";i:1;a:1:{i:0;s:2:"=>";}i:2;i:2117;}i:110;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:24:" RunnableSequence.from([";}i:2;i:2119;}i:111;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2143;}i:112;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:608:"  {
      last_thought: (x: unknown) => has(x, 'last_thought') ? x.last_thought : '',
      recent_thoughts: (x: unknown) => has(x, 'recent_thoughts') ? formatThoughts(x.recent_thoughts as string[]) : [],
      current_focus: (x: unknown) =>
          has(x, 'current_focus') ?
              x.current_focus : 'Not attending to anything',
      agent_scratchpad: (x: unknown) =>
          has(x, 'steps') ?
              formatToOpenAIFunctionMessages(x.steps as AgentStep[])
              : [],
  },
  await toolsAgent(model),
  modelWithFunctions(model, tools),
  // new OpenAIFunctionsAgentOutputParser(),";}i:2;i:2143;}i:113;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2143;}i:114;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:3:"]);";}i:2;i:2781;}i:115;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2784;}i:116;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2784;}i:117;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:26:"async function getPete() {";}i:2;i:2786;}i:118;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2812;}i:119;a:3:{i:0;s:12:"preformatted";i:1;a:1:{i:0;s:119:"  const pete = prompt.pipe(model);
      //new AgentExecutor({ agent: await toolsAgent(model), tools });
  return pete;";}i:2;i:2812;}i:120;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2812;}i:121;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:"}";}i:2;i:2939;}i:122;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2940;}i:123;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2940;}i:124;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:"export default getPete;";}i:2;i:2942;}i:125;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2942;}i:126;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:2942;}}